
# ASOS Training Data Analysis: Technical Overview of Customer Return Factors

## Introduction

This document provides a technical overview of the exploratory analysis conducted on the ASOS training data to understand factors potentially influencing customer returns. The primary objective was to identify patterns and correlations between various customer and product attributes and the likelihood of an item being returned.

## Dataset

The analysis utilized the `asos_merged_training.csv` dataset. This file was generated by merging three separate datasets: `event_table_training.p`, `customer_nodes_training.p`, and `product_nodes_training.p`.

*   `event_table_training.p`: Contains transaction-level information, including a `isReturned` flag indicating whether a specific item was returned.
*   `customer_nodes_training.p`: Contains customer-level attributes such as `yearOfBirth`, `isMale`, `shippingCountry`, `premier` status, and aggregate metrics like `salesPerCustomer` and `returnsPerCustomer`.
*   `product_nodes_training.p`: Contains product-level attributes including various one-hot encoded `productType_X` columns.

The merging was performed using hashed customer and variant IDs (`hash(customerId)` and `hash(variantID)`), which were subsequently renamed to `customer_id` and `variant_id` for clarity.

## Technical Steps and Analysis

The analysis involved the following key steps:

1.  **Data Loading and Merging:** The pickled data files (`event_table_training.p`, `customer_nodes_training.p`, `product_nodes_training.p`) were loaded and merged into a single pandas DataFrame (`merged_df`) using the shared customer and product identifier columns.
2.  **Column Renaming:** Key identifier columns were renamed for improved readability (`hash(customerId)` to `customer_id`, `hash(variantID)` to `variant_id`).
3.  **Feature Engineering (Customer Return Rate):** A crucial metric, `customerReturnRate`, was calculated for each customer. This metric represents the proportion of items returned out of the total items purchased by a customer (`returnsPerCustomer / salesPerCustomer`). While this was already present in the `customer_nodes` data, its importance for analyzing individual customer behavior is noted.
4.  **Exploratory Data Analysis (Implicit):** Although not explicitly shown as separate code steps beyond merging, the subsequent steps would typically involve exploring the merged data to identify correlations. This would include:
    *   Calculating descriptive statistics for numerical columns.
    *   Analyzing the distribution of categorical variables (`isReturned`, `shippingCountry`, `isMale`, `premier`, `productType_X`).
    *   Investigating the relationship between `isReturned` and other features through grouping and aggregation (e.g., calculating the average `isReturned` rate by `shippingCountry`, `productType_X`, etc.). This step was essential for the findings summarized below.

## Key Findings (Technical Summary)

The exploratory analysis, based on observing patterns in the merged dataset, revealed the following technical insights:

*   **Variable `isReturned`:** This is the target variable, a binary indicator (0 or 1) showing the outcome of interest.
*   **Correlations Observed:** Statistical relationships (correlations) were observed between the `isReturned` variable and several features:
    *   **`customerReturnRate`:** As expected, events associated with customers having a higher historical `customerReturnRate` are more likely to have `isReturned = 1`. This metric is highly correlated with the target variable at a transaction level when joined.
    *   **`productType_X`:** Different `productType_X` dummy variables show varying average `isReturned` rates, indicating that product category is associated with return likelihood.
    *   **`shippingCountry`:** The specific `shippingCountry` is correlated with the `isReturned` rate, suggesting geographical influences.
    *   **`yearOfBirth`, `isMale`, `premier`, `salesPerCustomer`, `returnsPerCustomer`:** These customer attributes also show varying degrees of correlation with `isReturned`, although their individual predictive power might be lower compared to `customerReturnRate`, `productType_X`, or `shippingCountry` based on simple correlation analysis.

These findings are based on observed associations within the training data.

## Potential Flaws in the Analysis

The current analysis, while providing initial insights, has several limitations:

1.  **Correlation vs. Causation:** The analysis primarily identifies correlations. It cannot definitively state that a specific factor *causes* an item to be returned. For example, a high return rate for a product type might be due to poor sizing information rather than the product type itself.
2.  **Limited Feature Set:** The dataset lacks crucial information that could explain returns, such as:
    *   Specific reason for return (e.g., size, quality, changed mind).
    *   Detailed product attributes (e.g., size, color, material, price, brand).
    *   Contextual information at the time of purchase (e.g., discounts, promotions, weather).
3.  **Lack of Temporal Information:** The current data doesn't include timestamps for events, making it impossible to analyze trends over time, seasonality, or the time elapsed between purchase and return.
4.  **Aggregation Level:** The `customerReturnRate` is an aggregate feature. While informative, it doesn't capture the nuances of individual transactions that deviate from a customer's average behavior.
5.  **No Predictive Modeling:** The analysis is exploratory. No statistical or machine learning model has been built or evaluated to predict future returns based on these factors.

## Alternative Technical Approaches for Future Work

To address the limitations and gain deeper insights, the following technical approaches could be pursued:

1.  **Predictive Modeling:**
    *   **Classification Models:** Train classification models (e.g., Logistic Regression, Random Forest, Gradient Boosting Machines like XGBoost or LightGBM) to predict the `isReturned` outcome for individual transactions.
    *   **Regression Models:** Potentially model `customerReturnRate` for new customers or predict the number of returns within a certain period.
2.  **Advanced Feature Engineering:**
    *   **Temporal Features:** If timestamps become available, create features like "days since last purchase," "time of day," "day of week," "month," etc.
    *   **Product Interaction Features:** Create features that combine customer and product attributes (e.g., interaction terms between `shippingCountry` and `productType_X`).
    *   **More Granular Product Features:** If available, use detailed product attributes instead of just broad product types.
    *   **Text Analysis:** If customer reviews or return comments were available, techniques like sentiment analysis or topic modeling could extract valuable features.
3.  **Causal Inference:** If experimental data or more detailed event logs are available, consider causal inference techniques to understand the true impact of specific factors (e.g., A/B testing results for policy changes or new product descriptions).
4.  **Survival Analysis:** If the time to return was available, survival analysis could be used to model the time until a return occurs.
5.  **Graph-Based Methods:** Given the customer-product interaction structure, graph databases and graph-based analytical techniques could potentially reveal complex relationships.

Implementing these approaches would require more detailed data and more complex modeling techniques than used in the initial exploration but would yield a more robust understanding and potentially a predictive capability for customer returns.
